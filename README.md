## ğŸŒ FINE ğŸŒ
ìœ ê¸°ë™ë¬¼ ì…ì–‘ ì„œë¹„ìŠ¤ ì œê³µ

## ëª©ë¡ 
1. [ê°œìš”](#ê°œìš”)
2. [ê¸°ëŒ€íš¨ê³¼](#ê¸°ëŒ€íš¨ê³¼)
3. [ì‚¬ìš©ë„êµ¬](#-ì‚¬ìš©ë„êµ¬)
4. [ê°œë°œìˆœì„œ](#-ê°œë°œìˆœì„œ)
5. [ì£¼ìš”ì†ŒìŠ¤](#-ì£¼ìš”ì†ŒìŠ¤)

##  âœ¨ ê°œìš”
ìœ ê¸°ê²¬ë“¤ì´ ë§ì•„ì§€ê³  ë¬´ë¶„ë³„í•œ í«ìƒµì˜ ìƒˆë¼ê³µì¥ìœ¼ë¡œ ì¸í•œ ë°˜ë ¤ê²¬ì˜ í•™ëŒ€ ë“±ë“± ë§ì€ ì¼ì´ ì¼ì–´ë‚˜ê³  ìˆëŠ” í˜„ì¬ í«ìƒµì€ ëˆˆì— ë„ê¸° ì‰½ê²Œ ê·¸ë¦¬ê³  ë‹¤ê°€ê°€ê¸° ì‰½ê²Œ ì¸í…Œë¦¬ì–´ ë˜ì–´ìˆê³  ì²´ì¸ì ì„ ë‚´ëŠ”ê³³ì´ ë§ì•„ì¡ŒìŠµë‹ˆë‹¤. 
í•˜ì§€ë§Œ ìœ ê¸°ê²¬ì„ ë³´í˜¸í•˜ëŠ” ë³´í˜¸ì†ŒëŠ” ëª‡ëª‡ ì‚¬ëŒë“¤ì—ê² ì¢‹ì§€ ì•Šì€ ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.. ìœ ê¸°ê²¬ì´ ë“¤ì–´ì˜¤ë©´ ëª»ë‚˜ê°€ê³  ì•ˆë½ì‚¬ ë‹¹í•˜ëŠ” ê³³ì´ë¼ê³  ìƒê°í•˜ëŠ” ì‚¬ëŒë“¤ì´ ë§ì„ ê²ƒì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì¼ë°˜ í«ìƒµì€ ê°•ì•„ì§€ë¥¼ ì…ì–‘ì´ë¼ëŠ” ê°œë…ìœ¼ë¡œ ëŒ€í•˜ëŠ” ê²ƒ ì´ ì•„ë‹Œ íŒë§¤ë¼ëŠ” ëª©ì ìœ¼ë¡œ ë°˜ë ¤ê²¬ë“¤ì˜ ê²¬ê¶Œì„ ë°”ë‹¥ìœ¼ë¡œ ë–¨ì–´íŠ¸ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.
ìœ ê¸°ê²¬ ë¶„ì–‘ë„ ì¼ë°˜ í«ìƒµì²˜ëŸ¼ ì°¾ì•„ê°€ê¸° ì‰½ê³  ë‹¤ê°€ê°€ê¸° í¸í•˜ë‹¤ë©´ ì–´ë–¨ê¹Œ ìƒê°ì„ í•˜ë‹¤ê°€ ì¼ë°˜ ë³´í˜¸ì†Œë“¤ì€ ë‹¤ ë”°ë¡œ ìì‹ ë“¤ ë§Œì˜ ë³´í˜¸ì†Œë¥¼ ìš´ì˜í•˜ëŠë¼ ê°ìì˜ í™ˆí˜ì´ì§€ì—ì„œ ì…ì–‘,ë¶„ì–‘ì„ ë°›ëŠ” ë‹¤ëŠ” ì‚¬ì‹¤ì„ ì•Œê²Œ ë˜ì—ˆê³  ìœ ê¸°ê²¬ ë¶„ì–‘ í†µí•© í”Œë«í¼ìœ¼ë¡œ ì‚¬ëŒë“¤ì—ê²Œ ë‹¤ê°€ê°„ë‹¤ë©´ ìì‹ ì˜ ì§€ì—­ì—ì„œ ì‰½ê³  ê°„í¸í•˜ê²Œ ë˜ ì¢€ ë” ë‹¤ì–‘í•œ ì‹œì„ ìœ¼ë¡œ ìœ ê¸°ê²¬ì„ ë³¼ê±°ë¼ ìƒê°ì´ ë“¤ì–´ ê¸°íší•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
## ê¸°ëŒ€íš¨ê³¼
![11](https://user-images.githubusercontent.com/69295153/106466895-43a05e00-64df-11eb-8310-cacb2e494dfa.PNG)

##  ğŸ”§ ì‚¬ìš©ë„êµ¬
![22](https://user-images.githubusercontent.com/69295153/106466899-44d18b00-64df-11eb-9144-ca27739c153f.PNG)

#### ê¸°íƒ€ ë¼ì´ë¸ŒëŸ¬ë¦¬ / API

| ë¼ì´ë¸ŒëŸ¬ë¦¬                    |
| ------------------------------|
| jstl                          |
| JSON-simple                   |
| JdataPicker                   |
| cos                           |
| javaMail API                  |
| gson                          | 
| ê³µê³µë°ì´í„°í¬í„¸                | 
| ì¹´ì¹´ì˜¤ ë§µ API                 | 


## ğŸ‘©â€ğŸ’» Member 

#### ì •í˜„ë´‰
- ìœ ê¸°ê²¬(ì…ì–‘, ì°¾ê¸°) ê¸°ëŠ¥
- íŒŒì¼ ì—…,ë‹¤ìš´ë¡œë“œ
- ê³µê³µ apiì‚¬ìš©í•˜ì—¬ ìœ ê¸°ê²¬ì˜ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
- ìœ ê¸°ê²¬ ì…ì–‘ ì˜ˆì•½ ê¸°ëŠ¥
- ë©”ì¸ í˜ì´ì§€


##  ğŸ”§ ê°œë°œìˆœì„œ
![Fine](https://user-images.githubusercontent.com/69295153/106555996-fa452280-6561-11eb-8402-275fefdcea22.jpg)

### DB ì„¤ê³„
![Copy of fine (1)](https://user-images.githubusercontent.com/69295153/106625198-cdbcf500-65b9-11eb-8d8d-5b2bf0f4b582.png)

### í…Œì´ë¸” ì •ì˜ì„œ
![kh2ì¡° semi_1](https://user-images.githubusercontent.com/69295153/106628659-6143f500-65bd-11eb-9410-fb32a3e1f782.jpg)
![kh2ì¡° semi_2](https://user-images.githubusercontent.com/69295153/106628663-62752200-65bd-11eb-9b1d-0021e40a35b1.jpg)
![kh2ì¡° semi_3](https://user-images.githubusercontent.com/69295153/106628665-630db880-65bd-11eb-9f7b-77147828e2a9.jpg)

### ìœ ê¸°ê²¬ ì°¾ê¸°,  í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
![sssddaa](https://user-images.githubusercontent.com/59170160/110359049-5bd83f80-8080-11eb-88cf-21c903e7d5d8.png)

### ì£¼ìš”ì†ŒìŠ¤ 
#### ì…ì–‘ ê²Œì‹œíŒ í˜ì´ì§•
![rList](https://user-images.githubusercontent.com/59170160/110350167-c97f6e00-8076-11eb-96f5-0408c5ab4229.png)
![rSearch](https://user-images.githubusercontent.com/59170160/110350170-ca180480-8076-11eb-985e-9e196bdc6283.png)
- Find_Adopt_List.java
```jsx
protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		String ctx = request.getContextPath();
	String id = (String) request.getSession().getAttribute("sessionID");
		System.out.println(id);
		if(request.getSession().getAttribute("sessionID") == null) {
			PrintWriter out = response.getWriter();
			out.append("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”')</script>");
			out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
		}else {
			FindService fService = new FindService();
			List<FindVO> list = new ArrayList<FindVO>();
			 
				int pageSize = 10; // í˜ì´ì§€ë‹¹ ì½ì–´ì˜¬ ê¸€ìˆ˜
				SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
				int pageBlock = 10;
			

			int count = fService.getAdoptListCount();	
			System.out.println(count);
			String pageNum = request.getParameter("pageNum");
			if (pageNum == null) {
				pageNum = "1";
			}
			int currentPage = Integer.parseInt(pageNum);


			int pagecount = (count / pageSize) + (count % pageSize == 0 ? 0 : 1);
			int startPage = 1;
			int endPage = 1;
			if (currentPage % 10 == 0) {

				startPage = ((currentPage / 10) - 1) * pageBlock + 1;
			} else {
				startPage = ((currentPage / 10)) * pageBlock + 1;
			}

			endPage = startPage + pageBlock;
			if (endPage > pagecount) {
				endPage = pagecount;
			}
			 
			

			

			int startRnum = (currentPage - 1) * pageSize + 1;
			int endRnum = startRnum + pageSize - 1;
			
			
			
			request.setAttribute("currentPage", currentPage); 
			request.setAttribute("count", count);
			request.setAttribute("endPage", endPage);
			request.setAttribute("startPage", startPage);
			
			request.setAttribute("pagecount", pagecount);
			
			list = fService.getFindAdoptInfo(id, startRnum, endRnum);
			System.out.println("ì•ˆë…•íˆì„¸ì—¬ :" + list);
			request.setAttribute("list", list);
			
			RequestDispatcher dis = request.getRequestDispatcher("./view/find/fine_find_Adopt_List.jsp");
			dis.forward(request, response);
		}
		
	
	}
```
- FindDAO.java
```jsx
	//ì…ì–‘ ìœ ê¸°ê²¬ ê°€ì ¸ì˜¤ê¸° ë©”ì„œë“œ DAO
	public List<FindVO> getFindAdoptInfo(int startRnum, int endRnum, String id, Connection conn, PreparedStatement pstmt,
			ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat("yyyyMMdd", Locale.KOREA);
		Date currentTime = new Date();
		String mTime = mSimpleDateFormat.format(currentTime);
		System.out.println(mTime);

		String sql = "select * from(select rownum rnum, d.* from (select * from dog where noticeEdt < " + mTime
				+ " and reservate = 0 and dog_kind_no = (select dog_kind_no from member where id= ?) order by desertionNo desc) d) where rnum >= ? and rnum <= ?";
		try {

			pstmt = conn.prepareStatement(sql);
			
			pstmt.setString(1, id);
			pstmt.setInt(2, startRnum);
			pstmt.setInt(3, endRnum);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("DOG_KIND_NO"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
				} while (rs.next());

			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return list;

	}
	//ì…ì–‘ ìœ ê¸°ê²¬ ê²Œì‹œíŒ í˜ì´ì§•ì„ ìœ„í•œ ë©”ì„œë“œ
	public int getAdoptListCount(Connection conn, PreparedStatement pstmt, ResultSet rs) {
		SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat("yyyyMMdd", Locale.KOREA);
		Date currentTime = new Date();
		String mTime = mSimpleDateFormat.format(currentTime);
		System.out.println(mTime);
		int result = 0;
		String sql = "select count(*) from dog where noticeEdt < " + mTime;
		try {
			pstmt = conn.prepareStatement(sql);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					result = rs.getInt(1);
				} while (rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return result;
	}
```
- ì…ì–‘í•  ìœ ê¸°ê²¬ì„ ë³´ì—¬ì£¼ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.
- ë¬´ë¶„ë³„í•œ ì…ì–‘ì„ ë§‰ê¸° ìœ„í•´ ì„¸ì…˜ì„ ì²´í¬í•˜ì—¬ ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ë‹¤ë©´ ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ ì½”ë”©í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê·¸ë¦¬ê³  ì²˜ìŒ ë¶ˆëŸ¬ì˜¤ëŠ” ë¦¬ìŠ¤íŠ¸ëŠ” ì²˜ìŒ íšŒì›ê°€ì…ì‹œì— ì„ í˜¸í•˜ëŠ” ê²¬ì¢…ì„ ê³ ë¥´ê²Œ ë˜ëŠ”ë° ì•„ë¬´ëŸ° ê²€ìƒ‰ì •ë³´ê°€ ì—†ë‹¤ë©´ ìì‹ ì´ ì„ í˜¸í•˜ëŠ” ê²¬ì¢…ìœ„ì£¼ë¡œ ê°€ì ¸ì˜¤ê²Œ ì½”ë”©í•˜ì˜€ìŠµë‹ˆë‹¤.

#### ì…ì–‘ ê²Œì‹œíŒ í˜ì´ì§•(ê²€ìƒ‰)
- Find_Adopt_Search.java
```jsx
//ì…ì–‘í•  ìœ ê¸°ê²¬ ê²€ìƒ‰ë¦¬ìŠ¤íŠ¸
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		String ctx = request.getContextPath();
		if(request.getSession().getAttribute("sessionID") == null) {
			PrintWriter out = response.getWriter();
			out.append("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”')</script>");
			out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
		}else {
			String sido = request.getParameter("sido");
			String sigungu = request.getParameter("sigungu");
			String address = sido+ " "+ sigungu;
			String dogKind = request.getParameter("dogKind");
			System.out.println("ì„œë¸”ë¦¿ : "+dogKind);
			if(dogKind == null) {
				System.out.println("ê²¬ì¢…ëª»ë¶ˆëŸ¬ì˜´");
			}else {
				
				System.out.println("ê²¬ì¢…" + dogKind);
			}
			
			
			FindService fService = new FindService();
			List<FindVO> list = new ArrayList<FindVO>();
			 
				int pageSize = 10; // í˜ì´ì§€ë‹¹ ì½ì–´ì˜¬ ê¸€ìˆ˜
				SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
				int pageBlock = 10;
			

			int count = fService.getAdoptSearchBoardCount(address,dogKind);	
			System.out.println("ë¶ˆëŸ¬ì˜¨ ê°œìˆ˜: " + count);
			String pageNum = request.getParameter("pageNum");
			if (pageNum == null) {
				pageNum = "1";
			}
			int currentPage = Integer.parseInt(pageNum);


			int pagecount = (count / pageSize) + (count % pageSize == 0 ? 0 : 1);
			int startPage = 1;
			int endPage = 1;
			if (currentPage % 10 == 0) {

				startPage = ((currentPage / 10) - 1) * pageBlock + 1;
			} else {
				startPage = ((currentPage / 10)) * pageBlock + 1;
			}

			endPage = startPage + pageBlock;
			if (endPage > pagecount) {
				endPage = pagecount;
			}
			 
			

			

			int startRnum = (currentPage - 1) * pageSize + 1;
			int endRnum = startRnum + pageSize - 1;
			
			
			
			request.setAttribute("sido", sido);
			request.setAttribute("sigungu", sigungu);
			request.setAttribute("dogKind", dogKind);
			request.setAttribute("currentPage", currentPage); 
			request.setAttribute("count", count);
			request.setAttribute("endPage", endPage);
			request.setAttribute("startPage", startPage);
			request.setAttribute("pagecount", pagecount);
			list = fService.getAdoptSearchDogPage(startRnum, endRnum, address, dogKind);
			request.setAttribute("list", list);
			System.out.println(list);
			RequestDispatcher dis = request.getRequestDispatcher("/view/find/fine_find_Adopt_search.jsp");
			dis.forward(request, response);
		}
	
	}
```
- fine_find_Adopt_search.jsp kakaoMap api script
```jsx
var mapContainer = document.getElementById('map'), // ì§€ë„ë¥¼ í‘œì‹œí•  div  
mapOption = { 
    center: new kakao.maps.LatLng(36.991879423239666, 128.03755800986698), // ì§€ë„ì˜ ì¤‘ì‹¬ì¢Œí‘œ
    level: 13 // ì§€ë„ì˜ í™•ëŒ€ ë ˆë²¨
};

var map = new kakao.maps.Map(mapContainer, mapOption); // ì§€ë„ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
//í™•ëŒ€ ì¶•ì†Œ
var zoomControl = new kakao.maps.ZoomControl();
map.addControl(zoomControl, kakao.maps.ControlPosition.RIGHT);
var geocoder = new kakao.maps.services.Geocoder();
//ë§ˆì»¤ë¥¼ í‘œì‹œí•  ìœ„ì¹˜ì™€ title ê°ì²´ ë°°ì—´ì…ë‹ˆë‹¤ 
var positions = document.getElementsByClassName('address');
var careName = document.getElementsByClassName('careName');
	for(var i=0; i<=positions.length; i++){
	console.log(positions[i]);	
		
	}
	
	for (var i=0; i < positions.length ; i++) {
		geocoder.addressSearch(positions[i].innerText, function(result, status) {

		    // ì •ìƒì ìœ¼ë¡œ ê²€ìƒ‰ì´ ì™„ë£Œëìœ¼ë©´ 
		     if (status === kakao.maps.services.Status.OK) {

		        var coords = new kakao.maps.LatLng(result[0].y, result[0].x);

		        // ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¥¼ ë§ˆì»¤ë¡œ í‘œì‹œí•©ë‹ˆë‹¤
		        var marker = new kakao.maps.Marker({
		            map: map,
		            position: coords
		        });

		        // ì¸í¬ìœˆë„ìš°ë¡œ ì¥ì†Œì— ëŒ€í•œ ì„¤ëª…ì„ í‘œì‹œí•©ë‹ˆë‹¤
		       
		        var infowindow = new kakao.maps.InfoWindow({
		            content:  '<div style="width:150px;text-align:center;padding:6px 0;"><a href="https://map.kakao.com/link/to/'+careName[i]+',' +coords.Ma+','+ coords.La+'" style="color:blue" target="_blank">ê¸¸ì°¾ê¸°</a></div>'
		        });
		        kakao.maps.event.addListener(marker, 'click', function() {
		            // ë§ˆì»¤ ìœ„ì— ì¸í¬ìœˆë„ìš°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤
		            infowindow.open(map, marker);  
		      });
		       
				

		        // ì§€ë„ì˜ ì¤‘ì‹¬ì„ ê²°ê³¼ê°’ìœ¼ë¡œ ë°›ì€ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤
		    } 
		})


		}; 
```		
- FindDAO.java
```jsx
//ì…ì–‘ í•  ìœ ê¸°ê²¬ ê²€ìƒ‰ ë©”ì„œë“œ
	public int getAdoptSearchBoardCount(String address, String dogKind, Connection conn, PreparedStatement pstmt,
			ResultSet rs) {
		SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat("yyyyMMdd", Locale.KOREA);
		Date currentTime = new Date();
		String mTime = mSimpleDateFormat.format(currentTime);
		System.out.println(mTime);
		int cnt = 0;
		String sql = "select count(*) from dog where care_adress like ?  and reservate = 0 and dog_kind_no in (select dog_kind_no from dog_kind where kind like ?) and noticeEdt <"
				+ mTime;

		try {

			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, "%" + address + "%");
			pstmt.setString(2, "%" + dogKind + "%");
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					cnt = rs.getInt(1);
					System.out.println(cnt);
				} while (rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		System.out.println("ê²€ìƒ‰ê°œìˆ˜!!!!" + cnt);
		return cnt;
	}
```
- ìœ„ì˜ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ê²€ìƒ‰ì–´ë¥¼ ê°€ì§€ê³  DBì—ì„œ ê°’ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.
- ë¦¬ìŠ¤íŠ¸ì—ì„œ ë¶ˆëŸ¬ì˜¨ ìœ ê¸°ê²¬ì˜ ì‹œ/ë„ ì •ë³´ë¥¼ ì¹´ì¹´ì˜¤ apiì—ë„ ë¿Œë ¤ì¤ë‹ˆë‹¤.
#### ì…ì–‘ ìœ ê¸°ê²¬ ìƒì„¸ì •ë³´
![rDetail](https://user-images.githubusercontent.com/59170160/110350194-cdab8b80-8076-11eb-81c7-bac0ac61e7fe.png)
![rDetailMap](https://user-images.githubusercontent.com/59170160/110350165-c8e6d780-8076-11eb-9fbf-12fdf3cfa8ea.png)
- Find_Adopt_Detail.java

```jsx
//ì…ì–‘í•  ìœ ê¸°ê²¬ ìƒì„¸ ì •ë³´
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		String ctx = request.getContextPath();
		String id = (String) request.getSession().getAttribute("sessionID");
		System.out.println(id);
		if(request.getSession().getAttribute("sessionID") == null) {
			PrintWriter out = response.getWriter();
			out.append("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”')</script>");
			out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
		}else {
			FindService fService = new FindService(); 
			
			int no = Integer.parseInt(request.getParameter("no"));
			List<FindVO> list = new ArrayList<FindVO>();
			list = fService.getFindDetail(no); 
			System.out.println(list);
			request.setAttribute("list", list);
			//response.sendRedirect("../training/fine_training_Dtail.jsp?trn_no="+no);
			RequestDispatcher disp = request.getRequestDispatcher("/view/find/fine_find_Adopt_Detail.jsp");
			disp.forward(request, response);	
		}
		
	}
```
- FindDAO.java
```jsx
//ì…ì–‘í•  ìœ ê¸°ê²¬ ìƒì„¸ ì •ë³´
	public List<FindVO> getFindInfo(int no, Connection conn, PreparedStatement pstmt, ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select dog.*, dog_kind.kind from dog, dog_kind where dog.dog_kind_no = dog_kind.dog_kind_no and  desertionno=?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1, no);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("kind"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
					System.out.println(list);
				} while (rs.next());
			}
		} catch (SQLException e) {
			System.out.println("ì‹¤íŒ½");
			e.printStackTrace();
		}

		return list;
	}
```
- ìœ ê¸°ëœ ìœ ê¸°ê²¬ì˜ ë¦¬ìŠ¤íŠ¸ ì¤‘ ê¸€ë²ˆí˜¸ë¥¼ ê°€ì§€ê³  ìœ ê¸°ê²¬ì˜ ìƒì„¸ì •ë³´ë¥¼ ê°€ì ¸ì™€ í™”ë©´ì— ë¿Œë ¤ì£¼ëŠ” ë° ì´ë•Œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì²˜ëŸ¼ ì¹´ì¹´ì˜¤ apië¥¼ ì‚¬ìš©í•˜ì—¬ ìœ„ì¹˜ì •ë³´ë„ ë‚˜íƒ€ë‚´ì–´ ì¤ë‹ˆë‹¤.
#### ì…ì–‘ í˜ì´ì§€ ì´ë™í•  ë•Œ íšŒì› ë“±ê¸‰ ì²´í¬
- Find_Reservation.java
```jsx
//ì…ì–‘ì˜ˆì•½ í˜ì´ì§€ ì´ë™ ë©”ì„œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		request.setCharacterEncoding("utf-8");
		response.setContentType("text/html;charset=utf-8");
		List<FindVO> list = new ArrayList<FindVO>();
		List<MemberVO> lists = new ArrayList<MemberVO>();
		String ctx = request.getContextPath();
		
		if (request.getSession().getAttribute("sessionID") == null) {
			PrintWriter out = response.getWriter();
			out.append("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”')</script>");
			out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>");
		} else {
			FindService fService = new FindService();
			String id = (String) request.getSession().getAttribute("sessionID");
		
	
			int grade = fService.gerMemberGrade(id);

			if (grade >= 3) {
				lists = fService.getMembername(id);
			} else if (grade < 3) {

				PrintWriter out = response.getWriter();
				out.append("<script>alert('ì…ì–‘í•˜ê¸°ìœ„í•œ ë“±ê¸‰ì´ ë‚®ìŠµë‹ˆë‹¤ í›ˆë ¨ì •ë³´ë¥¼ ë³´ê³  í€´ì¦ˆë¥¼ í’€ì–´ì£¼ì„¸ìš”!')</script>");
				out.println("<script>history.back()</script>");
				out.flush();
				out.close();
			}
			int no = Integer.parseInt(request.getParameter("dogNum"));
			list = fService.getFindDetail(no);
			System.out.println(list);
			if (list == null) {
				System.out.println("ì˜ˆì•½ì„œë¸”ë¦¿ì˜ ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤");
			} else
			request.setAttribute("lists", lists);
			request.setAttribute("list", list);
			RequestDispatcher disp = request.getRequestDispatcher("/view/find/find_reservation.jsp");
			disp.forward(request, response);

		}

	}
```
- FindDAO.java
```jsx
//íšŒì›ì˜ ë“±ê¸‰ì„ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
	public int gerMemberGrade(String id, Connection conn, PreparedStatement pstmt, ResultSet rs) {
		String sql = "select grade from member where id = ?";
		int result = 0;
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, id);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				result = Integer.parseInt(rs.getString("grade"));
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return result;
	}
	//ì…ì–‘í•˜ê¸° ìœ„í•œ íšŒì›ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
	public List<MemberVO> getMemberName(Connection conn, DataSource ds, ResultSet rs, PreparedStatement pstmt,
			String id) {
		// TODO Auto-generated method stub
		List<MemberVO> name = new ArrayList<MemberVO>();
		String sql = "select id, name, address, phone, birthday from member where id = ?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, id);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					MemberVO vo = new MemberVO();
					vo.setId(rs.getString("id"));
					vo.setAddress(rs.getString("address"));
					vo.setPhone(rs.getString("phone"));
					vo.setName(rs.getString("name"));
					name.add(vo);
				} while (rs.next());
			}

		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return name;
	}
	//ì…ì–‘í•  ìœ ê¸°ê²¬ ìƒì„¸ ì •ë³´
	public List<FindVO> getFindInfo(int no, Connection conn, PreparedStatement pstmt, ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select dog.*, dog_kind.kind from dog, dog_kind where dog.dog_kind_no = dog_kind.dog_kind_no and  desertionno=?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1, no);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("kind"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
					System.out.println(list);
				} while (rs.next());
			}
		} catch (SQLException e) {
			System.out.println("ì‹¤íŒ½");
			e.printStackTrace();
		}

		return list;
	}
```
- ì…ì–‘ì˜ˆì•½ í˜ì´ì§€ë¡œ ì´ë™í•˜ê¸° ì „ì— íšŒì›ì˜ ë“±ê¸‰ì„ ë¨¼ì € ì²´í¬ í•œ í›„ì— ê¸°ì¤€ ë¯¸ë‹¬ì´ë¼ë©´ í€´ì¦ˆ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ê²Œ ì½”ë”©í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê¸°ì¤€ì— ì¤€í•˜ë©´ íšŒì›ì˜ ì •ë³´ì™€ ìœ ê¸°ê²¬ì˜ ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜ˆì•½ í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
#### ì…ì–‘ ì •ë³´
![mResernavtion](https://user-images.githubusercontent.com/59170160/110350192-cdab8b80-8076-11eb-87f3-29ec055aad01.png)
- Find_Reservation_Adopt.java
```jsx
    //ì…ì–‘ì˜ˆì•½ ë©”ì„œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		String ctx = request.getContextPath();
		String id = (String) request.getSession().getAttribute("sessionID");
		if(request.getSession().getAttribute("sessionID") == null) {
				PrintWriter out = response.getWriter();
				out.append("<script>alert('ë¡œê·¸ì¸ í›„ ì´ìš©í•´ ì£¼ì„¸ìš”')</script>");
				out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
				out.flush();
				out.close();
			
		}else {
				FindService fService = new FindService();
				int grade = fService.gerMemberGrade(id);
				if (grade >= 3) {
					int dogNum = Integer.parseInt(request.getParameter("dogNum"));
					String careNm = request.getParameter("careName"); //ë³´í˜¸ì†Œ ë²ˆí˜¸ ê°€ì ¸ì™€ì•¼í•¨
					String careNoResult = fService.getCareNo(careNm); 
					String adoptDate = request.getParameter("date");
					SimpleDateFormat format1 = new SimpleDateFormat ("yyyyMMdd");
					Calendar time = Calendar.getInstance();					       
					String today = format1.format(time.getTime());
					
				
					if(adoptDate.equals("")) {
						PrintWriter out = response.getWriter();
						out.append("<script>alert('ë‚ ì§œë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”')</script>");
						out.println("<script>history.back()</script>");
						out.flush();
						out.close();
					}else {
						if(Integer.parseInt(adoptDate) < Integer.parseInt(today)) {
							PrintWriter out = response.getWriter();
							out.append("<script>alert('ì˜¤ëŠ˜ë‚ ì§œ ì´í›„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”')</script>");
							out.println("<script>history.back()</script>");
							out.flush();
							out.close();
						}
					}
					String[] chk = request.getParameterValues("agree");
					if(chk == null) {
						PrintWriter out = response.getWriter();
						out.append("<script>alert('ì•½ê´€ì— ë™ì˜í•´ ì£¼ì„¸ìš”')</script>");
						out.println("<script>history.back()</script>");
						out.flush();
						out.close();
					}else {
						if(chk.length != 2) {
							PrintWriter out = response.getWriter();
							out.append("<script>alert('ì•½ê´€ì— ë™ì˜í•´ ì£¼ì„¸ìš”')</script>");
							out.println("<script>history.back()</script>");
						}else if(chk.length == 2){
							int result = fService.insertReservatoin(careNoResult,adoptDate,dogNum,id);
							if(result == 1) {
								int update = fService.updateDog(dogNum);
								if(update == 1) {
									response.sendRedirect("./view/find/find_reservation_done.jsp");									
								}else {
									PrintWriter out = response.getWriter();
									out.append("<script>alert('ì´ë¯¸ ëˆ„ê°€ ì˜ˆì•½ì„ ëëƒˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ìœ ê¸°ê²¬ë„ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤!')</script>");
									out.println("<script>'"+ctx+"/findHowMany.do'</script>");
									out.flush();
									out.close();
								}
								
							}else {
								PrintWriter out = response.getWriter();
								out.append("<script>alert('ì£„ì†¡í•©ë‹ˆë‹¤ ì…ì–‘ì˜ˆì•½ì— ì‹¤íŒ¨í•˜ì˜€ìŠµë‹ˆë‹¤! ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”')</script>");
								out.println("<script>'"+ctx+"/findHowMany.do'</script>");
								out.flush();
								out.close();
							}
							
						}	
					}
					
					//dbì €ì¥
				}else {
					PrintWriter out = response.getWriter();
					out.append("<script>alert('ë¶€ì ì ˆí•œ ë“±ê¸‰ì…ë‹ˆë‹¤.')</script>");
					out.println("<script>location.href='./view/main/index.jsp'</script>");
					out.flush();
					out.close();
				}
		}
	
	}
```
- FindDAO.java
```jsx
//ì…ì–‘ì˜ˆì•½ ë©”ì„œë“œ
	public int insertReservatoin(String careNoResult, String adoptDate, int dogNum, String id, Connection conn,
			PreparedStatement pstmt, DataSource ds) {
		int result = 0;
		String sql = "insert into reservation(RESERCATION_NO,DESERTIONNO,ID,CARE_NO,RESERVATION_DATE) "
				+ "values(RESERVATION_SEQ.NEXTVAL,?,?,?,?)";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1, dogNum);
			pstmt.setString(2, id);
			pstmt.setString(3, careNoResult);
			pstmt.setString(4, adoptDate);
			result = pstmt.executeUpdate();
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return result;
	}
```
- íšŒì›ì˜ ë“±ê¸‰ì´ ê¸°ì¤€ì— ì¤€í•˜ë©´ ì…ì–‘ ì˜ˆì•½ì„ í•  ìˆ˜ ìˆëŠ”ë° ì˜ˆì•½ formì—ì„œ ë„˜ì–´ì˜¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
- ë‚ ì§œë¥¼ JdatePickerë¡œ ê°€ì ¸ì™€ ë¹„ì–´ìˆëŠ” ì§€, ì˜ˆì•½í•œ ì‚¬ëŒì´ ìˆëŠ”ì§€ Calender ë©”ì„œë“œë¥¼ í™œìš©í•˜ì—¬ ë‚ ì§œ ë¹„êµ í›„ ëª¨ë“  ê²€ì¦ì´ í†µê³¼ë˜ë©´ ì˜ˆì•½ì„ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. 
- 
#### ì…ì–‘ ê´€ë ¨ ì„œë¥˜ ë‹¤ìš´ë¡œë“œ
![rReservationOk](https://user-images.githubusercontent.com/59170160/110350169-ca180480-8076-11eb-8c77-8cd9c20d052d.png)
- Find_document_down.java
```jsx
    //ì…ì–‘ ê´€ë ¨ì„œë¥˜ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
		//ê²Œì‹œê¸€ ì²¨ë¶€íŒŒì¼ ë‹¤ìš´ ì²˜ë¦¬ìš© ì»¨íŠ¸ë¡¤ëŸ¬
		
		request.setCharacterEncoding("utf-8");
		//í”„ë¡œì íŠ¸ ë‚´ì— íŒŒì¼ì´ ì €ì¥ëœ í´ë”ì˜ ê²½ë¡œì •ë³´ ì–»ì–´ì˜´
		String readFolder = request.getSession().getServletContext().getRealPath("/upload/adoptfile");
		String oolean = request.getParameter("file");
		System.out.println(oolean);
		ServletOutputStream downOut =
				response.getOutputStream();
				File downFile = new File(readFolder + "/" + oolean);
				response.setContentType("text/plain; charset=utf-8");
				String originalFileName = "findDoc.hwp";
				
				
				//í•œê¸€ íŒŒì¼ëª… ì¸ì½”ë”© ì²˜ë¦¬í•¨
				response.addHeader("Content-Disposition",
				"attachment; filename=\"" +
				new String(originalFileName .getBytes("UTF-8"),"ISO-8859-1") + "\"");
				response.setContentLength((int)downFile.length());
				BufferedInputStream bin = new BufferedInputStream(
				new FileInputStream(downFile));
				int read = -1;
				while((read = bin.read()) != -1){
				downOut.write(read);
				downOut.flush();
				}
				downOut.close();
				bin.close();
	}
```
- ì…ì–‘ì˜ˆì•½ì´ ì™„ë£Œ ëœ í›„ í•„ìš” ì„œë¥˜ë¥¼ ì§€ì°¸í•´ì•¼ í•¨ìœ¼ë¡œ ì„œë¥˜ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- ServletOutputStream ìœ¼ë¡œ ë‹¤ìš´ë°›ì„ íŒŒì¼ ëª…ì„ ì…ë ¥í•˜ê³  ì¸ì½”ë”© ì²˜ë¦¬ í›„ ë‹¤ìš´ì´ ë˜ê²Œë” êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
### ìƒì–´ë²„ë¦° ìœ ê¸°ê²¬ ë¦¬ìŠ¤íŠ¸ 
![findList](https://user-images.githubusercontent.com/59170160/110350175-cab09b00-8076-11eb-8fd4-dc33986fc48d.png)
![findSearch](https://user-images.githubusercontent.com/59170160/110350178-cb493180-8076-11eb-9872-70d9b21e3992.png)
- Find_Lists.java
```jsx
 //ìƒì–´ë²„ë¦° ìœ ê¸°ê²¬ ë¦¬ìŠ¤íŠ¸
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		
		FindService fService = new FindService();
		List<FindVO> list = new ArrayList<FindVO>();
		 
			int pageSize = 10; // í˜ì´ì§€ë‹¹ ì½ì–´ì˜¬ ê¸€ìˆ˜
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
			int pageBlock = 10;
		

		int count = fService.getBoardCount(); 	
		System.out.println(count);
		String pageNum = request.getParameter("pageNum");
		if (pageNum == null) {
			pageNum = "1";
		}
		int currentPage = Integer.parseInt(pageNum);


		int pagecount = (count / pageSize) + (count % pageSize == 0 ? 0 : 1);
		int startPage = 1;
		int endPage = 1;
		if (currentPage % 10 == 0) {

			startPage = ((currentPage / 10) - 1) * pageBlock + 1;
		} else {
			startPage = ((currentPage / 10)) * pageBlock + 1;
		}

		endPage = startPage + pageBlock;
		if (endPage > pagecount) {
			endPage = pagecount;
		}
		 
		

		

		int startRnum = (currentPage - 1) * pageSize + 1;
		int endRnum = startRnum + pageSize - 1;
		
		
		
		request.setAttribute("currentPage", currentPage); 
		request.setAttribute("count", count);
		request.setAttribute("endPage", endPage);
		request.setAttribute("startPage", startPage);
		
		request.setAttribute("pagecount", pagecount);
		
		list = fService.getFindInfo(startRnum, endRnum);
		System.out.println("ì•ˆë…•íˆì„¸ì—¬ :" + list);
		request.setAttribute("list", list);
		
		RequestDispatcher dis = request.getRequestDispatcher("./view/find/fine_find_List.jsp");
		dis.forward(request, response);
	
	}

```
- ìœ ê¸°ê²¬ ì…ì–‘ ê¸°ëŠ¥ê³¼ ë™ì¼í•˜ì§€ë§Œ ì°¾ëŠ” ê¸°ëŠ¥ì€ ì…ì–‘ì´ ì•„ë‹ˆë¯€ë¡œ ë¹„íšŒì›ë„ ì°¾ì„ ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- FindDAO.java
```jsx
//í˜ì´ì§•ì„ ìœ„í•œ ë°ì´í„° ê°œìˆ˜ ì„¸ëŠ” ë©”ì„œë“œ
	public int getBoardCount(Connection conn, PreparedStatement pstmt, ResultSet rs) {
		int result = 0;
		String sql = "select count(*) from dog";
		try {
			pstmt = conn.prepareStatement(sql);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					result = rs.getInt(1);
				} while (rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return result;
	}
	//ìœ ê¸°ê²¬ ì°¾ê¸° ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° ë©”ì„œë“œ
	public List<FindVO> getFindInfo(int startRnum, int endRnum, Connection conn, PreparedStatement pstmt,
			ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select * from(select rownum rnum, d.* from (select * from dog order by desertionNo desc) d) where rnum >= ? and rnum <= ?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1, startRnum);
			pstmt.setInt(2, endRnum);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("DOG_KIND_NO"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);

				} while (rs.next());
				return list;
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return list;

	}
```
- ìœ ê¸°ê²¬ ì…ì–‘ ê¸°ëŠ¥ê³¼ ë™ì¼
### ìƒì–´ë²„ë¦° ìœ ê¸°ê²¬ ë¦¬ìŠ¤íŠ¸(ê²€ìƒ‰) 
- Find_Search.java
```jsx
    //ìƒì–´ë²„ë¦° ìœ ê¸°ê²¬ ê²€ìƒ‰ ë©”ì„œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		
		String sido = request.getParameter("sido");
		String sigungu = request.getParameter("sigungu");
		String address = sido+ " "+ sigungu;
		String dogKind = request.getParameter("dogKind");
		String happenDt = request.getParameter("happenDt");
		System.out.println("ì„œë¸”ë¦¿ : " + happenDt);
		System.out.println("ì„œë¸”ë¦¿ : "+ address);
		System.out.println("ì„œë¸”ë¦¿ : "+dogKind);
		if(dogKind == null) {
			System.out.println("ê²¬ì¢…ëª»ë¶ˆëŸ¬ì˜´");
		}else {
			
			System.out.println("ê²¬ì¢…" + dogKind);
		}
		
		
		FindService fService = new FindService();
		List<FindVO> list = new ArrayList<FindVO>();
		 
			int pageSize = 10; // í˜ì´ì§€ë‹¹ ì½ì–´ì˜¬ ê¸€ìˆ˜
			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
			int pageBlock = 10;
		

		int count = fService.getSearchBoardCount(address,dogKind, happenDt);	
		System.out.println("ë¶ˆëŸ¬ì˜¨ ê°œìˆ˜: " + count);
		String pageNum = request.getParameter("pageNum");
		if (pageNum == null) {
			pageNum = "1";
		}
		int currentPage = Integer.parseInt(pageNum);


		int pagecount = (count / pageSize) + (count % pageSize == 0 ? 0 : 1);
		int startPage = 1;
		int endPage = 1;
		if (currentPage % 10 == 0) {

			startPage = ((currentPage / 10) - 1) * pageBlock + 1;
		} else {
			startPage = ((currentPage / 10)) * pageBlock + 1;
		}

		endPage = startPage + pageBlock;
		if (endPage > pagecount) {
			endPage = pagecount;
		}
		 
		

		

		int startRnum = (currentPage - 1) * pageSize + 1;
		int endRnum = startRnum + pageSize - 1;
		
		
		
		request.setAttribute("sido", sido);
		request.setAttribute("sigungu", sigungu);
		request.setAttribute("dogKind", dogKind);
		request.setAttribute("happenDt", happenDt);
		request.setAttribute("currentPage", currentPage); 
		request.setAttribute("count", count);
		request.setAttribute("endPage", endPage);
		request.setAttribute("startPage", startPage);
		request.setAttribute("pagecount", pagecount);
		list = fService.getSearchDogPage(startRnum, endRnum, address, dogKind, happenDt);
		request.setAttribute("list", list);
		System.out.println(list);
		RequestDispatcher dis = request.getRequestDispatcher("/view/find/fine_find_search.jsp");
		dis.forward(request, response);
	}
```

- FindDAO.java
```jsx
//ìœ ê¸°ê²¬ ì°¾ê¸° ê²€ìƒ‰ ë¦¬ìŠ¤íŠ¸ ê°¯ìˆ˜ ì„¸ëŠ” ë©”ì„œë“œ
public int getSearchBoardCount(String address, String dogKind, String happenDt, Connection conn,
			PreparedStatement pstmt, ResultSet rs) {
		int cnt = 0;
		String sql = "select count(*) from dog where care_adress like ?  and dog_kind_no in (select dog_kind_no from dog_kind where kind like ?) and happenDt > ?";

		try {

			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, "%" + address + "%");
			pstmt.setString(2, "%" + dogKind + "%");
			pstmt.setString(3, happenDt);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					cnt = rs.getInt(1);
					System.out.println(cnt);
				} while (rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		System.out.println("ê²€ìƒ‰ê°œìˆ˜!!!!" + cnt);
		return cnt;

	}
	//ê²€ìƒ‰í•œ ìœ ê¸°ê²¬ ì°¾ê¸° ì •ë³´ ë©”ì„œë“œ
	public List<FindVO> getSearchDogPage(String address, String dogKind, String happenDt, int startRnum, int endRnum,
			Connection conn, PreparedStatement pstmt, ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();

		String sql = "select * from(select rownum rnum, d.* from "
				+ "(select * from dog where dog_kind_no = (select dog_kind_no from dog_kind where kind like ?) and care_adress like ? and happenDt > ?) d) "
				+ "where rnum >= ? and rnum <= ?";
		try {

			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, "%" + dogKind + "%");
			pstmt.setString(2, "%" + address + "%");
			pstmt.setString(3, happenDt);
			pstmt.setInt(4, startRnum);
			pstmt.setInt(5, endRnum);
			rs = pstmt.executeQuery();
			System.out.println("ã…ã…‡ã…ã…‡");
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("DOG_KIND_NO"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
				} while (rs.next());

			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return list;

	}
```
- ìœ ê¸°ê²¬ ì…ì–‘ ê¸°ëŠ¥ê³¼ ë™ì¼
### ìƒì–´ë²„ë¦° ìœ ê¸°ê²¬ ìƒì„¸ ì •ë³´ 
![findDetail](https://user-images.githubusercontent.com/59170160/110350174-cab09b00-8076-11eb-8a8b-47ebd9e94c2e.png)
![fineDetailMap](https://user-images.githubusercontent.com/59170160/110350180-cb493180-8076-11eb-8c5f-ef2e22027f06.png)

- Find_Detail.java
```jsx
 //ìœ ê¸°ê²¬ ì°¾ê¸° ìƒì„¸ì •ë³´
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		int no = Integer.parseInt(request.getParameter("no"));
		FindService fService = new FindService(); 
		List<FindVO> list = new ArrayList<FindVO>();
		list = fService.getFindDetail(no); 
		System.out.println(list);
		request.setAttribute("list", list);
		//response.sendRedirect("../training/fine_training_Dtail.jsp?trn_no="+no);
		RequestDispatcher disp = request.getRequestDispatcher("/view/find/fine_find_Detail.jsp");
		disp.forward(request, response);
	}
```
- FindDAO.java
```jsx
//ì…ì–‘í•  ìœ ê¸°ê²¬ ìƒì„¸ ì •ë³´
	public List<FindVO> getFindInfo(int no, Connection conn, PreparedStatement pstmt, ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select dog.*, dog_kind.kind from dog, dog_kind where dog.dog_kind_no = dog_kind.dog_kind_no and  desertionno=?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setInt(1, no);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("kind"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
					System.out.println(list);
				} while (rs.next());
			}
		} catch (SQLException e) {
			System.out.println("ì‹¤íŒ½");
			e.printStackTrace();
		}

		return list;
	}
```
- ìœ ê¸°ê²¬ ì…ì–‘ ê¸°ëŠ¥ê³¼ ë™ì¼
### ì œíœ´ ë³´í˜¸ì†Œ ê´€ë¦¬ì ë³„ ë³´í˜¸ì¤‘ì¸ ìœ ê¸°ê²¬ ëª©ë¡ 

![mnageLsit](https://user-images.githubusercontent.com/59170160/110350188-cd12f500-8076-11eb-8d97-f15aefcf462d.png)
- Fine_find_manage_List.java
```jsx
    //ë§¤ë‹ˆì € ìì‹ ì˜ ë³´í˜¸ì†Œì— ë“±ë¡ëœ ìœ ê¸°ê²¬ ì •ë³´ ê°€ì ¸ì˜¤ê¸° 
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
	
		
				String checkLev = (String) request.getSession().getAttribute("memberLev");
				String checkId = (String) request.getSession().getAttribute("sessionID");
				
					FindService fService = new FindService();
					List<FindVO> list = new ArrayList<FindVO>();
					 
						int pageSize = 10; // í˜ì´ì§€ë‹¹ ì½ì–´ì˜¬ ê¸€ìˆ˜
						SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd hh:mm:ss");
						int pageBlock = 10;
					

					int count = fService.getManageAdoptBoardCount(checkId, checkLev); 	
					System.out.println(count);
					String pageNum = request.getParameter("pageNum");
					if (pageNum == null) {
						pageNum = "1";
					}
					int currentPage = Integer.parseInt(pageNum);


					int pagecount = (count / pageSize) + (count % pageSize == 0 ? 0 : 1);
					int startPage = 1;
					int endPage = 1;
					if (currentPage % 10 == 0) {

						startPage = ((currentPage / 10) - 1) * pageBlock + 1;
					} else {
						startPage = ((currentPage / 10)) * pageBlock + 1;
					}

					endPage = startPage + pageBlock;
					if (endPage > pagecount) {
						endPage = pagecount;
					}
					 
					

					

					int startRnum = (currentPage - 1) * pageSize + 1;
					int endRnum = startRnum + pageSize - 1;
					
					
					
					request.setAttribute("currentPage", currentPage); 
					request.setAttribute("count", count);
					request.setAttribute("endPage", endPage);
					request.setAttribute("startPage", startPage);
					
					request.setAttribute("pagecount", pagecount);
					
					list = fService.getFindManageList(checkId, checkLev, startRnum, endRnum);
					System.out.println("ì•ˆë…•íˆì„¸ì—¬ :" + list);
					request.setAttribute("list", list);
					
					RequestDispatcher dis = request.getRequestDispatcher("./view/find/fine_find_Adopt_manage_List.jsp");
					dis.forward(request, response);
				}
```
- FindDAO.java
```jsx
//ë³´í˜¸ì†Œ ë³„ ë³´í˜¸ì¤‘ì¸ ìœ ê¸°ê²¬ ëª©ë¡ê°€ì ¸ì˜¤ëŠ” ë©”ì„œë“œ
	public List<FindVO> getFindManageList(String checkId, String lev, int startRnum, int endRnum, Connection conn,
			PreparedStatement pstmt, ResultSet rs) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select * from(select rownum rnum, d.* from (select * from dog where care_name = (select care_name from care where care_no =(select care_no from member where id = ? and lev = ?))order by desertionNo desc) d) where rnum >= ? and rnum <= ?";
		try {

			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, checkId);
			pstmt.setString(2, lev);
			pstmt.setInt(3, startRnum);
			pstmt.setInt(4, endRnum);
			rs = pstmt.executeQuery();
			if (rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("DOG_KIND_NO"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
				} while (rs.next());

			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		return list;
	}
```
- ì œíœ´ë¥¼ ë§ºì€ ë³´í˜¸ì†Œë“¤ì´ ë³´í˜¸ì¤‘ì¸ ìœ ê¸°ê²¬ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
- ìœ ê¸°ê²¬ ì…ì–‘ ë¦¬ìŠ¤íŠ¸ì™€ ê¸°ëŠ¥ì€ ë™ì¼í•©ë‹ˆë‹¤.
### ì…ì–‘ë˜ê±°ë‚˜ ì°¾ì€ ìœ ê¸°ê²¬ ì‚­ì œ ë©”ì„œë“œ

- Find_manage_delete.java
```jsx
    //ìœ ê¸°ê²¬ ì‚­ì œ ë©”ì„œë“œ
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		FindVO vo = new FindVO();
		FindService fService = new FindService();
		ServletContext context = getServletContext();
		String no = request.getParameter("no");
		vo.setDesertionNo(no);
		
		String path = context.getRealPath("upload\\dog"); 
		fService.FindDeleteFileName(vo);
		String filepath = vo.getFilename();
		filepath.substring(11);
		System.out.println("filepath : "+filepath);
		
		System.out.println(path);
		File f = new File(path +"\\"+filepath);
		if(f.exists()){
			f.delete();
			System.out.println("íŒŒì¼ ì‚­ì œë¨");
		}else{
			System.out.println("íŒŒì¼ ì—†ìŒ");
		}
		
		
		int result = fService.FindDelete(vo);
		System.out.println(result);
		
		if(result==1) {
			PrintWriter out = response.getWriter();
			out.println("<script>alert('ì‚­ì œê°€ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.')</script>");
			response.sendRedirect("fine_find_manage_List.do");
		}else {
			PrintWriter out = response.getWriter();
			out.println("<script>alert('ì‚­ì œë¥¼ ì‹¤íŒ¨ í•˜ì˜€ìŠµë‹ˆë‹¤.')</script>");
			response.sendRedirect("fine_find_manage_List.do");
		}
	
	
	}
```

- FindDAO.java
```jsx
//ìœ ê¸°ê²¬ ì£¼ì¸ì´ ì°¾ì€ ìœ ê¸°ê²¬ ì‚­ì œ ë©”ì„œë“œ
	public int findDelete(Connection conn, FindVO vo, PreparedStatement pstmt, ResultSet rs) {
		int result = 0;
		String sql = "delete from dog where desertionNo = ?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, vo.getDesertionNo());
			result = pstmt.executeUpdate();
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return result;

	}
```
- ìì‹ ì˜ ë³´í˜¸ì†Œ ì•ˆì— ìˆëŠ” ìœ ê¸°ê²¬ì´ ì…ì–‘ë˜ê±°ë‚˜ ì£¼ì¸ì„ ì°¾ëŠ”ë‹¤ë©´ ê´€ë¦¬ìê°€ í•´ë‹¹ ìœ ê¸°ê²¬ì˜ ì •ë³´ë¥¼ ì‚­ì œí•˜ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.
### ë³´í˜¸ì†Œì— ë“¤ì–´ì˜¨ ìœ ê¸°ê²¬ ì…ë ¥ 

![manageWrite](https://user-images.githubusercontent.com/59170160/110350187-cc7a5e80-8076-11eb-81d0-35f6b74a9856.png)
- Find_fine_manage_write.java
```jsx
	//ê´€ë¦¬ìê°€ ì§ì ‘ ìœ ê¸°ê²¬ì˜ ì •ë³´ dbì¸ì„œíŠ¸
	protected void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
	
		
		
		
		String checkId = (String) request.getSession().getAttribute("sessionID");;
		
			if (!ServletFileUpload.isMultipartContent(request))
				response.sendRedirect("findHowMany.do");

			ServletContext context = getServletContext();
			String uploadPath = context.getRealPath(fileSavePath);
			System.out.println(uploadPath);
			MultipartRequest multi = new MultipartRequest(request, // request ê°ì²´
					uploadPath, // ì„œë²„ ìƒ ì—…ë¡œë“œ ë  ë””ë ‰í† ë¦¬
					uploadSizeLimit, // ì—…ë¡œë“œ íŒŒì¼ í¬ê¸° ì œí•œ
					encType, // ì¸ì½”ë”© ë°©ë²•
					new DefaultFileRenamePolicy() // ë™ì¼ ì´ë¦„ ì¡´ì¬ ì‹œ ìƒˆë¡œìš´ ì´ë¦„ ë¶€ì—¬ ë°©ì‹
			);


			// ì—…ë¡œë“œ ëœ íŒŒì¼ ì´ë¦„ ì–»ì–´ì˜¤ê¸°
			String file = multi.getFilesystemName("uploadFile");
			System.out.println(file);

			String happenPlace = multi.getParameter("happenPlace");
			String age = multi.getParameter("age");
			String colorCd = multi.getParameter("colorCd");
			String happenDt = multi.getParameter("happenDt");
			String dogKind = multi.getParameter("dogKind");
			String neuterYn = multi.getParameter("neuterYn");
			String officetel = multi.getParameter("officetel");
			String orgNm = multi.getParameter("orgNm");
			String sexCd = multi.getParameter("sexCd");
			String specialMark = multi.getParameter("happenPlace");
			String weight = multi.getParameter("happenPlace");
			if (happenPlace != null && !happenPlace.equals("") && age != null && !age.equals("") && colorCd != null
					&& !colorCd.equals("") && happenDt != null && !happenDt.equals("") && dogKind != null
					&& !dogKind.equals("") && neuterYn != null && !neuterYn.equals("") 
					&&  officetel != null && !officetel.equals("") && orgNm != null
					&& !orgNm.equals("") && sexCd != null && !sexCd.equals("") && specialMark != null
					&& !specialMark.equals("") && weight != null && !weight.equals("")) {
				System.out.println("ë“¤ì–´ì˜¤ëƒ?");
				FindService fService = new FindService();
				FindVO vo = new FindVO();
				vo.setHappenPlace(happenPlace);
				vo.setAge(age);
				vo.setColorCd(colorCd);
				vo.setHappenDt(happenDt);
				vo.setKindCd(dogKind);
				vo.setNeuterYn(neuterYn);
				vo.setOfficetel(officetel);
				vo.setOrgNm(orgNm);
				vo.setSexCd(sexCd);
				vo.setSpecialMark(specialMark);
				vo.setWeight(weight);
				System.out.println("voì €ì¥");
				int result = fService.FindMangerWrite(checkId,vo, file);
				System.out.println(result);
				if (result == 1) {
					PrintWriter out = response.getWriter();
					out.println("<script>alert('ë“±ë¡ì´ ì™„ë£Œ ë˜ì—ˆìŠµë‹ˆë‹¤.')</script>");

					response.sendRedirect("fine_find_manage_List.do");
				} else {
					RequestDispatcher disp = request.getRequestDispatcher("/view/find/fine_find_manage_List.jsp");
					disp.forward(request, response);
				}
			}
		}
	


}
```
- FindDAO.java
```jsx
//ìœ ê¸°ê²¬ ì •ë³´ ì…ë ¥
	public int FindMangerWrite(String checkId, FindVO vo, String file, Connection conn, PreparedStatement pstmt) {
		SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat("yyyyMMdd", Locale.KOREA);
		Date currentTime = new Date();
		String mTime = mSimpleDateFormat.format(currentTime);
		System.out.println(mTime);

		Calendar cal = Calendar.getInstance();
		cal.setTime(new Date());
		cal.add(Calendar.DATE, +10);
		System.out.println("10ì¼ ë’¤ ë‚ ì§œ : " + mSimpleDateFormat.format(cal.getTime()));
		int result = 0;
		String sql = "insert into dog(desertionno, care_name, care_adress, care_tel, happenPlace, age, colorcd, filename, happendt, dog_kind_no, neuteryn, noticeEdt, noticeSdt, officeTel, orgNm, popFile, processstate, sexcd, specialmark, weight)"
				+ "values(SEQ_dog_NO.NEXTVAL,(select care_name from care where care_no = (select care_no from member where id = ?)),(select adress from care where care_no = (select care_no from member where id = ?)),(select tel from care where care_no = (select care_no from member where id = ?))"
				+ ",?,?,?,'./upload/dog/" + file + "',?,(select dog_kind_no from dog_kind where kind = ?), ?, "
				+ mSimpleDateFormat.format(cal.getTime()) + "," + mTime
				+ ", (select phone from member where id=?),?,?,'ë³´í˜¸ì¤‘',?,?,?)";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, checkId);
			pstmt.setString(2, checkId);
			pstmt.setString(3, checkId);
			pstmt.setString(4, vo.getHappenPlace());
			pstmt.setString(5, vo.getAge());
			pstmt.setString(6, vo.getColorCd());
			pstmt.setString(7, vo.getHappenDt());
			pstmt.setString(8, vo.getKindCd());
			pstmt.setString(9, vo.getNeuterYn());
			pstmt.setString(10, checkId);
			pstmt.setString(11, vo.getOrgNm());
			pstmt.setString(12, "./upload/dog/"+file);
			pstmt.setString(13, vo.getSexCd());
			pstmt.setString(14, vo.getSpecialMark());
			pstmt.setString(15, vo.getWeight());
			result = pstmt.executeUpdate();
			if (result == 1) {
				return result;
			} else {
				System.out.println("ìœ ê¸°ê²¬ì…ë ¥ì‹¤íŒ¨");
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return result;
	}
```
- ë³´í˜¸ì†Œ ê´€ë¦¬ìê°€ ìì‹ ì˜ ë³´í˜¸ì†Œë¡œ ë“¤ì–´ì˜¨ ìœ ê¸°ê²¬ì„ ë“±ë¡ì‹œí‚¤ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
- MultipartRequest ë¡œ formì— ì…ë ¥ëœ ìœ ê¸°ê²¬ì˜ ì‚¬ì§„ì„ ê°€ì ¸ì™€ DBì— ì €ì¥í•˜ê³  ì„œë²„ì— ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.




### ê³µê³µapiì— ìƒˆë¡œ ë“¤ì–´ì˜¨ ìœ ê¸°ê²¬ ëª©ë¡ ê°€ì ¸ì™€ì„œ update

![manageUpdate](https://user-images.githubusercontent.com/59170160/110350184-cc7a5e80-8076-11eb-8a42-394d1d2fe80f.png)
- XmlParser.java
```jsx
public class XmlParser {
	private DocumentBuilderFactory documentBuilderFactory;
	private DocumentBuilder documentBuilder;
	private Document document;
	private NodeList nodeList;
	private NodeList nodeList2;

	public XmlParser(File file) {
		System.out.println(file + "íŒŒì¼ë³´ì—¬ì¤˜");
		DomParser(file);
	}

	public void DomParser(File file) {
		try {
			documentBuilderFactory = DocumentBuilderFactory.newInstance();
			documentBuilder = documentBuilderFactory.newDocumentBuilder();
			document = documentBuilder.parse(file);
			System.out.println("document : " + document);
		} catch (ParserConfigurationException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (SAXException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	public List<XmlDataVO> parse(String tagName) {
		List<XmlDataVO> listOfData = new ArrayList<XmlDataVO>();
		nodeList = document.getElementsByTagName(tagName);
		System.out.println(nodeList2);

	
		System.out.println("nodeList.getLength(): " + nodeList.getLength());
		

		
		for (int i = 0; i < nodeList.getLength(); i++) {

			Element element = (Element) nodeList.item(i);
//			String dog_kind_no = this.getTagValue("kindCd", element);
//			String kind = this.getTagValue("KNm", element);
			
			String desertionNo = this.getTagValue("desertionNo", element);
			String happenPlace = this.getTagValue("happenPlace", element);
			String age = this.getTagValue("age", element);
			String careAddr = this.getTagValue("careAddr", element);
			String careNm = this.getTagValue("careNm", element);
			String careTel = this.getTagValue("careTel", element);
			String color = this.getTagValue("colorCd", element);
			String filename = this.getTagValue("filename", element);
			String happenDt =this.getTagValue("happenDt", element);
			String kindCd =this.getTagValue("kindCd", element).substring(4);
			String neuterYn =this.getTagValue("neuterYn", element);
			String noticeEdt =this.getTagValue("noticeEdt", element);
			String noticeSdt =this.getTagValue("noticeSdt", element);
			String officetel =this.getTagValue("officetel", element);
			String orgNm =this.getTagValue("orgNm", element);
			String popfile =this.getTagValue("popfile", element);
			String processState =this.getTagValue("processState", element);
			String sexCd =this.getTagValue("sexCd", element);
			String specialMark =this.getTagValue("specialMark", element);
			String weight =this.getTagValue("weight", element);
//			
//			
//			XmlDataVO vo = new XmlDataVO(dog_kind_no, kind);
			XmlDataVO vo = new XmlDataVO(desertionNo, happenPlace, age,careAddr,  careNm, careTel,  color, filename, happenDt,
					kindCd, neuterYn, noticeEdt, noticeSdt, officetel, orgNm, popfile, processState, sexCd, specialMark, weight);
			listOfData.add(vo);
			System.out.println("");
		}
		return listOfData;
	}

	private String getTagValue(String tagName, Element element) {
		NodeList nodeList= null;
		if(element.getElementsByTagName(tagName).item(0).getChildNodes() == null) {
			nodeList = null;
		}else {
			nodeList = element.getElementsByTagName(tagName).item(0).getChildNodes();			
		}
		System.out.println(nodeList);
		Node node = nodeList.item(0);
        System.out.println(node.getNodeName());
		return node.getNodeValue();
		
	}
}

```
- Find_manage_data_update.java
```jsx
//ìœ ê¸°ê²¬ì˜ ëª©ë¡ì„ ê³µê³µapiì—ì„œ ë°›ì•„ì™€ì„œ xmlíŒŒì¼ë¡œ ë³€í™˜ í›„ dbì— ì…ë ¥í•˜ëŠ” ë©”ì„œë“œ
	protected void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
			
		String fileName = "C:\\eclips_java\\fine\\dogNotice.xml";
		BufferedReader br = null;

		// DocumentBuilderFactory ìƒì„±
		DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
		factory.setNamespaceAware(true);
		DocumentBuilder builder;
		Document doc = null;
		SimpleDateFormat sdf = new SimpleDateFormat("yyyyMMdd");
		Calendar cal = Calendar.getInstance();
		String today = sdf.format(cal.getTime());

		try {
			// OpenApií˜¸ì¶œ
			int count = 0;
			String urlstr = "http://openapi.animal.go.kr/openapi/service/rest/abandonmentPublicSrvc/abandonmentPublic?serviceKey=z1Y%2B%2FKbcw8o3UyZuB3R%2BgSVOx1KhUHOFXWFNf9qVFHHj6bMePFYfs9cPFKx4L1CMZ6sFoWBAydrytd%2Br4aWySw%3D%3D&bgnde=20140601&endde="+today+"&upkind=417000&state=notice&pageNo=1&numOfRows=50000";
			URL url = new URL(urlstr);
			HttpURLConnection urlconnection = (HttpURLConnection) url.openConnection();

			// ì‘ë‹µ ì½ê¸°
			br = new BufferedReader(new InputStreamReader(urlconnection.getInputStream(), "UTF-8"));
			String result = "";
			String line;
			while ((line = br.readLine()) != null) {
				result = result + line.trim();// result = URLë¡œ XMLì„ ì½ì€ ê°’
			}

			// xml íŒŒì‹±í•˜ê¸°
			InputSource is = new InputSource(new StringReader(result));
			builder = factory.newDocumentBuilder();
			doc = builder.parse(is);
			XPathFactory xpathFactory = XPathFactory.newInstance();
			XPath xpath = xpathFactory.newXPath();
			XPathExpression expr = xpath.compile("//items/item");
			NodeList nodeList = (NodeList) expr.evaluate(doc, XPathConstants.NODESET);
		
			BufferedWriter fw = new BufferedWriter(new FileWriter(fileName, false));
			fw.write("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>\r");
			fw.write("\t\t<items>\r");
			for (int i = 0; i < nodeList.getLength(); i++) {
				System.out.println("<item>");
				NodeList child = nodeList.item(i).getChildNodes();
				fw.write("\t\t\t<item>\r");
				count++;
				for (int j = 0; j < child.getLength(); j++) {
					Node node = (Node) child.item(j);
					String as = "\t\t\t\t<" + node.getNodeName() + ">"
							+ node.getTextContent().replaceAll("&", "ê³¼").replace("ê³¼#", "ampS") + "</"
							+ node.getNodeName() + ">\r";
					fw.write(as);

				}


				fw.write("\t\t\t</item>\r");
			}
			fw.write("\t\t</items>");
			fw.flush();
			fw.close();
			System.out.println("ìƒì„±!");
			System.out.println(count);
		} catch (Exception e) {
			System.out.println(e.getMessage());
		}

		FindService fService = new FindService();
		int result = fService.insertNoticeSysDate();
		String ctxpath = request.getContextPath();
		if (result == 1) {
			System.out.println("DBì €ì¥ì„±ê³µ");
		} else {
			System.out.println("dbë‹¤ì‹œ");
			
		}
		String ctx = request.getContextPath();
		PrintWriter out = response.getWriter();
		out.append("<script>alert('ë°ì´í„°ë¥¼ ìµœì‹ í™” í•˜ì˜€ìŠµë‹ˆë‹¤')</script>");
		out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
		
	}

}
```
- FindDAO.java
```jsx
//ìƒˆë¡œ ë“¤ì–´ì˜¨ apiì •ë³´ ì¸ì„œíŠ¸
	public int insertNoticeSysDate(Connection conn, PreparedStatement pstmt) {
		SimpleDateFormat mSimpleDateFormat = new SimpleDateFormat("yyyyMMdd", Locale.KOREA);
		Date currentTime = new Date();
		String mTime = mSimpleDateFormat.format(currentTime);
		System.out.println(mTime);

		int result = 0;
		File file = new File("C:\\eclips_java\\fine\\dogNotice.xml");
		XmlParser xmlParser = new XmlParser(file);
		List<XmlDataVO> tmp = xmlParser.parse("item");
		System.out.println("******tmp size: " + tmp.size());

//			  String sql = "insert into dog_kind(dog_kind_no, kind) values(?,?)";
		String sql = "insert into dog(desertionNo, happenPlace, age,   care_adress, care_name, care_Tel, colorCd, filename, happenDt,"
				+ "dog_kind_no, neuterYn, noticeEdt, noticeSdt, officetel, orgNm, popfile, processState, sexCd, specialMark, weight) "
				+ "values(SEQ_dog_NO.NEXTVAL, ?, ?,  ?, ?, ?, ?, ?, ?, (select distinct dog_kind_no from dog_kind where kind like ?), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)";

		int numOfRow = 0;
		try {
			for (int i = 0; i < tmp.size(); i++) {
//					  System.out.println("voê°’:"+Integer.parseInt(tmp.get(i).getNoticeSdt()));
//					  System.out.println("ì˜¤ëŠ˜ë‚ ì"+Integer.parseInt(mTime));
				pstmt = conn.prepareStatement(sql);
				if (Integer.parseInt(tmp.get(i).getNoticeSdt()) < Integer.parseInt(mTime)) {
					System.out.println("ì „ì—ìˆë˜ ë°ì´í„°ì…ë‹ˆë‹¤. ê±´ë„ˆëœ€");
					continue;
				}
//				if (Integer.parseInt(tmp.get(i).getNoticeSdt()) == Integer.parseInt(mTime)) {
//					System.out.println("ì˜¤ëŠ˜ë‚ ì§œ ë°ì´í„° ì…ë‹ˆë‹¤. ê±´ë„ˆëœ€");
//					continue;
//				}

				pstmt.setString(1, tmp.get(i).getHappenPlace());
				pstmt.setString(2, tmp.get(i).getAge());
				pstmt.setString(3, tmp.get(i).getCareAddr());
				pstmt.setString(4, tmp.get(i).getCareNm());
				pstmt.setString(5, tmp.get(i).getCareTel());
				pstmt.setString(6, tmp.get(i).getColorCd());
				pstmt.setString(7, tmp.get(i).getFilename());
				pstmt.setString(8, tmp.get(i).getHappenDt());
				pstmt.setString(9, tmp.get(i).getKindCd()); // í‘¸ë“¤ ì¹˜ì™€ì™€
				pstmt.setString(10, tmp.get(i).getNeuterYn());
				pstmt.setString(11, tmp.get(i).getNoticeEdt());
				pstmt.setString(12, tmp.get(i).getNoticeSdt());
				pstmt.setString(13, tmp.get(i).getOfficetel());
				pstmt.setString(14, tmp.get(i).getOrgNm());
				pstmt.setString(15, tmp.get(i).getPopfile());
				pstmt.setString(16, tmp.get(i).getProcessState());
				pstmt.setString(17, tmp.get(i).getSexCd());
				pstmt.setString(18, tmp.get(i).getSpecialMark());
				pstmt.setString(19, tmp.get(i).getWeight());

				int r1 = pstmt.executeUpdate();
				numOfRow++;
				if (pstmt != null)
					pstmt.close();
				if (r1 == 1)
					System.out.println("insert ok");
				else {
					System.out.println("insert fail : " + r1);
					break;
				}
			}
			System.out.println("sucess to save" + numOfRow);
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} finally {
			try {
				conn.close();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		return result;

	}
```
- ë¨¼ì € ì €ì¥ë  XMLíŒŒì¼ì„ ì§€ì •í•©ë‹ˆë‹¤.
- ê³µê³µ api ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ URL ë©”ì„œë“œì— ì£¼ì†Œë¥¼ ì ê³  HttpURLConnection ìœ¼ë¡œ ì—°ê²°ì„ í•˜ì˜€ìŠµë‹ˆë‹¤
- ì´í›„ BufferedReaderë¡œ ì‘ë‹µëœ ê°’ì„ ì½ì€ í›„ì— XPathExpressionìœ¼ë¡œ ì–´ëŠë…¸ë“œë¥¼ ì½ì„ì§€ ì •í•˜ê³  NodeListë¡œ ê°’ì„ ì½ì–´ì˜µë‹ˆë‹¤.
- ê·¸ ì´í›„ NodeListí•˜ë‚˜ ë” ì„ ì–¸í•´ ì´ ì „ ì„ ì–¸í–ˆë˜ NodeListì˜ ìì‹ë…¸ë“œë“¤ì„ ì½ì–´ì™€ BufferedWriterì— ì „ì— ì§€ì •í•œ íŒŒì¼ì— ì ì–´ì£¼ê²Œ ë©ë‹ˆë‹¤.
- ê·¸ë¦¬ê³  Daoì—ì„œ XmlParserë¡œ ë„˜ê¸¸ íŒŒì¼ì„ ì •í•˜ê³  ë„˜ê²¨ì¤ë‹ˆë‹¤.
- XmlParserì—ì„œ xmlíŒŒì¼ì— ìˆëŠ” ë…¸ë“œë“¤ì„ VOì— ì €ì¥í•œ í›„ VOë¥¼ ë‹¤ì‹œ í˜¸ì¶œí•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤.
- ì €ì¥í•  ë•Œ DBì—ì„œ ì €ì¥ëœ ê°’ì„ ëª¨ë‘ ë¶ˆëŸ¬ì™€ ë¨¼ì € xmlíŒŒì¼ì— ìˆëŠ” ë°ì´í„°ë¥¼ ë¹„êµí•´ ì „ì— ìˆë˜ ë°ì´í„°ë¼ë©´ ì €ì¥í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ë°ì´í„°ë§Œ ì €ì¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
### ë³´í˜¸ì†Œ ì§ì› ì…ì–‘í˜„í™© ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°

![manageReservationLsit](https://user-images.githubusercontent.com/59170160/110350182-cbe1c800-8076-11eb-936e-8dcade9cabd0.png)
- fine_manage_reservationChck.java
```jsx
 //ìì‹ ì˜ ë³´í˜¸ì†Œì˜ ì…ì–‘ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		String ctx = request.getContextPath();
		String id = (String) request.getSession().getAttribute("sessionID");
		if(!request.getSession().getAttribute("memberLev").equals("2")) {
			PrintWriter out = response.getWriter();
			out.append("<script>alert('ì •ìƒì ì¸ ì ‘ê·¼ì´ ì•„ë‹™ë‹ˆë‹¤.')</script>");
			out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
			out.flush();
			out.close();
		}else {
			List<ReserVO> list = new ArrayList<ReserVO>();
			FindService fService = new FindService();
			list = fService.getReservationInfo(id);
			if(list == null) {
				PrintWriter out = response.getWriter();
				out.append("<script>alert('ì˜ˆì•½ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤')</script>");
				out.println("<script>location.href='"+ctx+"/findHowMany.do'</script>"); 
				out.flush();
				out.close();
			}else {
				request.setAttribute("list", list);
				RequestDispatcher disp = request.getRequestDispatcher("./view/find/fine_find_reservation_list.jsp");
						
				disp.forward(request, response);
				
			}
		}
		
	}
```
- FindDAO.java
```jsx
//ì…ì–‘ í˜„í™© ë¶ˆëŸ¬ì˜¤ê¸°
	public List<ReserVO> getReservationInfo(String id, Connection conn, DataSource ds, ResultSet rs,
			PreparedStatement pstmt) {
		List<ReserVO> list = new ArrayList<ReserVO>();
		String sql = "select * from reservation where care_no = (select care_no from member where id = ?)";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, id);
			rs = pstmt.executeQuery();
			if(rs.next()) {
				do {
					ReserVO vo = new ReserVO();
					vo.setResercationNo(rs.getString("RESERCATION_NO"));
					vo.setDesertionNo(rs.getInt("DESERTIONNO"));
					vo.setId(rs.getString("ID"));
					vo.setCareNo(rs.getString("CARE_NO"));
					vo.setReservationDate(rs.getString("RESERVATION_DATE"));
					list.add(vo);
				}while(rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		return list;
	}
```
- ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ìœ ê¸°ê²¬ì„ ì…ì–‘ ì˜ˆì•½í•œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.
- ì˜ˆì•½ ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆë‹¤ë©´ PrintWriter ì…ì–‘ ì˜ˆì•½í˜„í™©ì´ ì—†ë‹¤ëŠ” ê²½ê³ ì°½ì˜ ë„ì›Œì£¼ë„ë¡ ì½”ë”©í•˜ì˜€ìŠµë‹ˆë‹¤.
### ë©”ì¸ í˜ì´ì§€ í•œì£¼ê°„ ìœ ê¸°ëœ ìœ ê¸°ê²¬ ë¦¬ìŠ¤íŠ¸
![main](https://user-images.githubusercontent.com/59170160/110350181-cbe1c800-8076-11eb-9cb5-26bc0eb54e01.png)
- Find_HowMany.java
```jsx
 //ë©”ì¸í˜ì´ì§€ì— ë„ì›Œì¤„ ì¼ì£¼ì¼ê°„ ìœ ê¸°ëœ ìœ ê¸°ê²¬ì˜ ëª©ë¡ê³¼ ìˆ˜
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		
		request.setCharacterEncoding("UTF-8");
		response.setContentType("text/html; charset=UTF-8");
		FindService fService = new FindService();
		List<FindVO> list = new ArrayList<FindVO>();
		int count = fService.getHowManyCount();
		list = fService.getHowManyLsit();
		request.setAttribute("list", list);
		request.setAttribute("count", count);
		RequestDispatcher disp = request.getRequestDispatcher("./view/main/index.jsp");
		disp.forward(request, response);
	}

```
- FindDAO.java
```jsx
//ë©”ì¸í˜ì´ì§€ í•œì£¼ê°„ ìœ ê¸°ëœ ìœ ê¸°ê²¬ì˜ ìˆ˜
	public List<FindVO> getHowManyLsit(Connection conn, DataSource ds, ResultSet rs, PreparedStatement pstmt) {
		List<FindVO> list = new ArrayList<FindVO>();
		String sql = "select * from(select rownum rnum, d.* from "
				+ "(select * from dog where dog_kind_no in (select dog_kind_no from dog_kind) and noticeEdt > '20201202') d) where rnum >= 1 and rnum <= 32";
		try {
			pstmt = conn.prepareStatement(sql);
			rs = pstmt.executeQuery();
			if(rs.next()) {
				do {
					FindVO vo = new FindVO();
					vo.setDesertionNo(rs.getString("desertionNo"));
					vo.setHappenPlace(rs.getString("happenplace"));
					vo.setAge(rs.getString("age"));
					vo.setCareAddr(rs.getString("care_adress"));
					vo.setCareNm(rs.getString("care_name"));
					vo.setCareTel(rs.getString("care_tel"));
					vo.setColorCd(rs.getString("colorcd"));
					vo.setFilename(rs.getString("filename"));
					vo.setHappenDt(rs.getString("happendt"));
					vo.setKindCd(rs.getString("DOG_KIND_NO"));
					vo.setNeuterYn(rs.getString("neuteryn"));
					vo.setNoticeEdt(rs.getString("noticeEdt"));
					vo.setNoticeSdt(rs.getString("noticeSdt"));
					vo.setOfficetel(rs.getString("officetel"));
					vo.setOrgNm(rs.getString("orgnm"));
					vo.setPopfile(rs.getString("popfile"));
					vo.setProcessState(rs.getString("processstate"));
					vo.setSexCd(rs.getString("sexcd"));
					vo.setSpecialMark(rs.getString("specialMark"));
					vo.setWeight(rs.getString("weight"));
					list.add(vo);
				}while(rs.next());
			}
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return list;
	}

}

```
index.jsp
```jsx
	<c:if test="${not empty count }">
	      <div class="temporary2">ìµœê·¼ í•œì£¼ê°„ ìœ ê¸°ëœì˜ ìœ ê¸°ê²¬ì˜ìˆ˜ëŠ” ${count }ë§ˆë¦¬ì…ë‹ˆë‹¤.</div>
	</c:if>
	      <div class="temporary3">
	<c:if test="${not empty list }">
		<c:forEach items="${list }" var="mvo" step="1">
			<div class="dogPic"><a href="<%=ctxPath%>/findDetail.do?no=${mvo.desertionNo}"><img src="${mvo.popfile }" style="width:380px; height: 350px;"></a></div>
		</c:forEach>
      	</c:if>
- í•œì£¼ë™ì•ˆ ìœ ê¸°ëœ ìœ ê¸°ê²¬ì˜ ìˆ˜ë¥¼ ê°€ì ¸ì™€ í™”ë©´ì— ë¿Œë ¤ì£¼ê³  ìœ ê¸°ê²¬ì˜ ì‚¬ì§„ì„ ë“¤ê³ ì™€ ë³´ì—¬ì£¼ë„ë¡ jstlì„ í™œìš©í•˜ì—¬ êµ¬ì—°í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì‚¬ì§„ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ìœ ê¸°ê²¬ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆë„ë¡ ìƒì„¸ í˜ì´ì§€ë¡œ ì´ë™í•˜ê²Œ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

